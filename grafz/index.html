<!DOCTYPE html>
<html>
    <head>
        <title>Grafz</title>

        <style media="screen">
            #canvas {

            }
        </style>
    </head>
    <body>
        <canvas id="canvas" height="500px"></canvas>

        <form id="settings">
            <p><label for="treeJSON">Tree as JSON</label></p>
            <p>
<textarea name="treeJSON" cols="40" rows="20">
{
   "distance": 10,
   "children": [
      {
         "distance": 1,
         "children": [
            {
               "distance":3
            },
            {
               "distance":1.5
            }
         ]
      },
      {
         "distance": 5,
         "children": [
            {
               "distance": 2,
               "children": [
                  {
                     "distance":3
                  },
                  {
                     "distance":4
                  }
               ]
            },
            {
               "distance": 2,
               "children": [
                  {
                     "distance":1
                  },
                  {
                     "distance":6
                  }
               ]
            }
         ]
      }
   ]
}
</textarea>
            </p>
        </form>

        <script src="app.js"></script>
        <script>
            app.init({canvas: canvas});

            function updateAndRedraw() {
                app.setTreeJSON(settings.treeJSON.value);
                app.draw();
            }

            settings.treeJSON.addEventListener('input', updateAndRedraw);

            //settings.treeJSON.value = '{"distance": 10, "children": [{"distance": 1, "children": [{"distance": 3}, {"distance": 1.5}]}, {"distance": 5, "children": [{"distance": 2, "children": [{"distance": 3}, {"distance": 4}]}, {"distance": 2, "children": [{"distance": 1}, {"distance": 6}]}]}]}';

            updateAndRedraw();
        </script>
    </body>
</html>
